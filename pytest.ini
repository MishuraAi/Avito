[tool:pytest]
# üß™ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pytest –¥–ª—è Avito AI Bot

# –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è pytest
minversion = 7.0

# –ü–∞–ø–∫–∏ —Å —Ç–µ—Å—Ç–∞–º–∏
testpaths = tests

# –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Ñ–∞–π–ª–æ–≤ —Å —Ç–µ—Å—Ç–∞–º–∏
python_files = test_*.py *_test.py

# –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∫–ª–∞—Å—Å–æ–≤ —Å —Ç–µ—Å—Ç–∞–º–∏
python_classes = Test*

# –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Ñ—É–Ω–∫—Ü–∏–π —Å —Ç–µ—Å—Ç–∞–º–∏
python_functions = test_*

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏
addopts = 
    --verbose
    --tb=short
    --strict-markers
    --strict-config
    --disable-warnings
    --color=yes
    --durations=10

# –ú–∞—Ä–∫–µ—Ä—ã –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤
markers =
    unit: Unit tests for individual components
    integration: Integration tests for multiple components
    database: Database-related tests
    api: API endpoint tests
    services: Business logic service tests
    external: Tests requiring external services (Gemini, Avito API)
    slow: Slow running tests
    smoke: Smoke tests for basic functionality

# –§–∏–ª—å—Ç—Ä—ã –¥–ª—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
filterwarnings =
    ignore::UserWarning
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è pytest-cov)
# –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –ø–æ–∫—Ä—ã—Ç–∏—è:
# addopts = --cov=src --cov-report=html --cov-report=term-missing --cov-fail-under=80

# –ü–∞–ø–∫–∏ –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏–∑ –ø–æ–∫—Ä—ã—Ç–∏—è
# --cov-omit=*/migrations/*,*/tests/*,*/venv/*,*/__pycache__/*